<div class="container-fluid">
    <div class="row-fluid spinner visible">
      <div class="col-md-12">
        <p>Loading data, <span>hang in there</span></p>
        <div id="loading"></div>
      </div>
    </div>
    <!-- sidebar -->
    <div class="row-fluid search clearfix">
      <h2>Filter Table</h2>
      <div class="col-md-3">
				Account: 
				<select  ng-model="currentTitle" ng-change="currentPage=0">
					<option ng-repeat="title in titles" value="{{title}}">{{dropMNR(title)}}</option>
				</select>
			</div>
			<div class="col-md-2">
        <i class="fa fa-search"></i> <input ng-model="query.$" placeholder="search">
      </div>
      <div class="col-md-2">
				<button ng-click="saveCSV()" class="btn btn-success">Save</button>
				<button ng-click="rgetCSV()" class="btn btn-default">Open</button>
		  </div>
		  <div class="col-md-3">
				<button ng-disabled="currentPage ==0" ng-click="currentPage=currentPage-1">Previous</button>
				{{currentPage + 1}}/{{numberOfPages}}      
				<button ng-disabled="currentPage >= dataLength/pageSize - 1" ng-click="currentPage=currentPage+1">Next</button>
			</div>
			<div class="col-md-2">
			  <div class="btn-group">
			    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
			      Columns <i class="fa fa-caret-square-o-down"></i>
			    </button>
			    <ul class="dropdown-menu" role="menu">
			      <li><a ng-click="toggleColumn('accountVisible')"><i class="fa" ng-class="{'fa-eye': accountVisible, 'fa-eye-slash': !accountVisible}"></i> <span>Account</span></a></li>
			      <li><a ng-click="toggleColumn('subjectVisible')"><i class="fa" ng-class="{'fa-eye': subjectVisible, 'fa-eye-slash': !subjectVisible}"></i> <span>Subject</span></a></li>
			      <li><a ng-click="toggleColumn('fileNameVisible')"><i class="fa" ng-class="{'fa-eye': fileNameVisible, 'fa-eye-slash': !fileNameVisible}"></i>  <span>File Name</span></a></li>
			      <li><a ng-click="toggleColumn('stellentNameVisible')"><i class="fa" ng-class="{'fa-eye': stellentNameVisible, 'fa-eye-slash': !stellentNameVisible}"></i>  <span>Stellent Name</span></a></li>
			      <li><a ng-click="toggleColumn('titleVisible')"><i class="fa" ng-class="{'fa-eye': titleVisible, 'fa-eye-slash': !titleVisible}"></i>  <span>Title</span></a></li>
			      <li><a ng-click="toggleColumn('descriptionVisible')"><i class="fa" ng-class="{'fa-eye': descriptionVisible, 'fa-eye-slash': !descriptionVisible}"></i>  <span>Description</span></a></li>
			      <li><a ng-click="toggleColumn('ownerVisible')"><i class="fa" ng-class="{'fa-eye': ownerVisible, 'fa-eye-slash': !ownerVisible}"></i>  <span>Owner</span></a></li>
			      <li><a ng-click="toggleColumn('otherLanguageVisible')"><i class="fa" ng-class="{'fa-eye': otherLanguageVisible, 'fa-eye-slash': !otherLanguageVisible}"></i>  <span>Other Language</span></a></li>
			      <li><a ng-click="toggleColumn('keywordsVisible')"><i class="fa" ng-class="{'fa-eye': keywordsVisible, 'fa-eye-slash': !keywordsVisible}"></i>  <span>Keywords</span></a></li>
			      <li><a ng-click="toggleColumn('publishedVisible')"><i class="fa" ng-class="{'fa-eye': publishedVisible, 'fa-eye-slash': !publishedVisible}"></i>  <span>Published</span></a></li>
			      <li><a ng-click="toggleColumn('modifiedVisible')"><i class="fa" ng-class="{'fa-eye': modifiedVisible, 'fa-eye-slash': !modifiedVisible}"></i>  <span>Modified</span></a></li>
			    </ul>
			  </div>
			</div>
    </div>
    
  <div class="row-fluid">
    <div class="span12 table-responsive">
      <table dataTable class="table">
        <thead>
					<tr>
						<th>Upload</th>
						<th ng-class="{'visible': accountVisible, 'hidden': !accountVisible}">Account</th>
						<th ng-class="{'visible': subjectVisible, 'hidden': !subjectVisible}"><input ng-model="query.Subject" placeHolder="Subject"></th>
						<th ng-class="{'visible': fileNameVisible, 'hidden': !fileNameVisible}"><input ng-model="query.OriginalName" placeHolder="File Name"></th>
						<th ng-class="{'visible': stellentNameVisible, 'hidden': !stellentNameVisible}"><input ng-model="query.Name" placeHolder="Stellent Name"></th>
						<th ng-class="{'visible': titleVisible, 'hidden': !titleVisible}"><input ng-model="query.Title" placeHolder="Title"></th>
						<th  ng-class="{'visible': descriptionVisible, 'hidden': !descriptionVisible}"><input ng-model="query.Description" placeHolder="Description"></th>
						<th ng-class="{'visible': ownerVisible, 'hidden': !ownerVisible}"><input ng-model="query.ContentContact" placeHolder="Owner"></th>
						<th>Accessible</th>
						<th>Content Plan</th>
						<th ng-class="{'visible': otherLanguageVisible, 'hidden': !otherLanguageVisible}"><input ng-model="query.HasTranslationLang" placeHolder="Other Languages"></th>
						<th ng-class="{'visible': keywordsVisible, 'hidden': !keywordsVisible}"><input ng-model="query.Keywords" placeHolder="Keywords"></th>
						<th ng-class="{'visible': publishedVisible, 'hidden': !publishedVisible}"><input ng-model="query.PublishedDate" placeHolder="Published"></th>
						<th ng-class="{'visible': modifiedVisible, 'hidden': !modifiedVisible}"><input ng-model="query.ModifiedDate" placeHolder="Modified"></th>
						<!--th>Visible</th-->
					</tr>
				</thead>
        <tr ng-repeat="pdf in fPdfs| filter:query:strict | startFrom:currentPage*pageSize | limitTo:pageSize"  ng-class="{'added': !pdf.toAdd, '': pdf.toAdd}" ng-class-odd="'odd'" ng-class-even="'even'">
          <td><a class="add-toggle" ng-click="toggleAdded(pdf)" title="{{pdf.toAdd ? 'Add to list' : 'Remove from list'}}"><i class="fa" ng-class="{'fa-plus-circle': pdf.toAdd, 'fa-times-circle': !pdf.toAdd}"></i></a></td>
          <td ng-click="toggleAdded(pdf)"  ng-class="{'visible': accountVisible, 'hidden': !accountVisible}">{{dropMNR(pdf.Account)}}</td>
          <td ng-click="toggleAdded(pdf)" ng-class="{'visible': subjectVisible, 'hidden': !subjectVisible}">{{(pdf.Subject && hasData(pdf.Subject) ) ? pdf.Subject : '-'}}</td>
          <td ng-click="toggleAdded(pdf)" ng-class="{'visible': fileNameVisible, 'hidden': !fileNameVisible}"><a ng-href="{{getPath(pdf.Path)}}">{{pdf.OriginalName}}</a></td>
          <td ng-click="toggleAdded(pdf)" ng-class="{'visible': stellentNameVisible, 'hidden': !stellentNameVisible}">{{pdf.Name}}</td>
          <td ng-click="toggleAdded(pdf)" ng-class="{'visible': titleVisible, 'hidden': !titleVisible}">{{pdf.Title}}</td>
          <td ng-click="toggleAdded(pdf)" ng-class="{'visible': descriptionVisible, 'hidden': !descriptionVisible}">{{pdf.Description}}</td>
          <td ng-click="toggleAdded(pdf)" ng-class="{'visible': ownerVisible, 'hidden': !ownerVisible}">{{(pdf.ContentContact && hasData(pdf.ContentContact)) ? pdf.ContentContact : '-'}}</td>
          <td><input type="checkbox" /></td>
          <td><input type="checkbox" /></td>
          <td ng-click="toggleAdded(pdf)" ng-class="{'visible': otherLanguageVisible, 'hidden': !otherLanguageVisible}">{{(pdf.HasTranslationLang && hasData(pdf.HasTranslationLang) )? pdf.HasTranslationLang : '-'}}</td>
          <td ng-click="toggleAdded(pdf)" ng-class="{'visible': keywordsVisible, 'hidden': !keywordsVisible}">{{pdf.Keywords}}</td>
          <td ng-click="toggleAdded(pdf)" ng-class="{'visible': publishedVisible, 'hidden': !publishedVisible}">{{pdf.PublishDate}}</td>
          <td ng-click="toggleAdded(pdf)" ng-class="{'visible': modifiedVisible, 'hidden': !modifiedVisible}">{{pdf.ModifiedDate}}</td>
          <!--td><a href="#" ng-click="rowCollapse($event)"><i ng-class="{'glyphicon-chevron-down': isopen, 'glyphicon-chevron-right': !isopen}"></i></a></td -->
        </tr>
      </table>
    </div>
    <div id="pagination-footer" class="span12" ng-class="{'visible': numberOfPages > 0, 'hidden': numberOfPages <= 0}" >
      <button ng-disabled="currentPage ==0" ng-click="currentPage=currentPage-1">Previous</button>
      {{currentPage + 1}}/{{numberOfPages}}      
			<button ng-disabled="currentPage >= dataLength/pageSize - 1" ng-click="currentPage=currentPage+1">Next</button>
    </div>
  </div>
</div>